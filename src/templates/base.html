<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {# Search Engine Meta Tags #}
        <meta name="title"       content="GitUnderstand">
        <meta name="description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        <meta name="keywords"
              content="GitUnderstand, AI tools, LLM integration, Ingest, Digest, Context, Prompt, Git workflow, codebase extraction, Git repository, Git automation, Summarize, prompt-friendly">
        <meta name="robots"      content="index, follow">
        {# Open Graph Meta Tags #}
        <meta property="og:title"       content="GitUnderstand">
        <meta property="og:description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        <meta property="og:type"        content="website">
        <meta property="og:url"         content="{{ request.url }}">
        {# Web App Meta #}
        <meta name="apple-mobile-web-app-title"            content="GitUnderstand">
        <meta name="application-name"                      content="GitUnderstand">
        <meta name="theme-color"                           content="#0891b2">
        <meta name="mobile-web-app-capable"                content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        {# Twitter card #}
        <meta name="twitter:card"        content="summary_large_image">
        <meta name="twitter:title"       content="GitUnderstand">
        <meta name="twitter:description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        {# Favicon — inline SVG with cyan brand #}
        <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='18' fill='%230891b2'/%3E%3Ctext y='.88em' x='50%25' text-anchor='middle' font-size='62' font-family='system-ui,sans-serif' font-weight='800' fill='%23ffffff'%3EG%3C/text%3E%3C/svg%3E">
        {# Title #}
        <title>
            {% block title %}
                {% if short_repo_url %}
                    GitUnderstand - {{ short_repo_url }}
                {% else %}
                    GitUnderstand
                {% endif %}
            {% endblock %}
        </title>
        {# Google Fonts — Inter (UI) + JetBrains Mono (code) #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
        {# Tabler Icons #}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css">
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                        mono: ['JetBrains Mono', 'ui-monospace', 'SFMono-Regular', 'monospace'],
                    },
                    colors: {
                        border: '#e7e5e4',
                        input: '#d6d3d1',
                        ring: '#06b6d4',
                        background: '#fafaf9',
                        foreground: '#1c1917',
                        primary: { DEFAULT: '#0891b2', foreground: '#ffffff', hover: '#0e7490' },
                        secondary: { DEFAULT: '#f5f5f4', foreground: '#1c1917' },
                        muted: { DEFAULT: '#f5f5f4', foreground: '#78716c' },
                        accent: { DEFAULT: '#f0fdfa', foreground: '#0891b2' },
                        destructive: { DEFAULT: '#ef4444', foreground: '#ffffff' },
                        card: { DEFAULT: '#ffffff', foreground: '#1c1917' },
                    },
                    borderRadius: {
                        lg: '0.5rem',
                        md: 'calc(0.5rem - 2px)',
                        sm: 'calc(0.5rem - 4px)',
                    },
                }
            }
        }
        </script>
        {# Prism.js for syntax highlighting #}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css">
        <style type="text/tailwindcss">
          :root {
            --background: #fafaf9;
            --foreground: #1c1917;
            --card: #ffffff;
            --card-foreground: #1c1917;
            --muted: #f5f5f4;
            --muted-foreground: #78716c;
            --border: #e7e5e4;
            --input: #d6d3d1;
            --ring: #06b6d4;
            --primary: #0891b2;
            --primary-foreground: #ffffff;
            --secondary: #f5f5f4;
            --secondary-foreground: #1c1917;
            --destructive: #ef4444;
            --accent: #f0fdfa;
            --accent-foreground: #0891b2;
            --radius: 0.5rem;
          }

          @layer components {
            .badge-new {
              @apply inline-block px-2 py-0.5 bg-cyan-50 border border-cyan-200 text-cyan-700 text-[10px] font-semibold rounded-full;
            }
            .landing-page-title {
              @apply inline-block w-full relative text-center text-4xl sm:text-5xl md:text-6xl lg:text-7xl sm:pt-20 lg:pt-5 font-extrabold tracking-tighter text-foreground;
            }
            .intro-text {
              @apply text-center text-stone-500 text-lg max-w-2xl mx-auto;
            }
            .pattern-select {
              @apply min-w-max appearance-none pr-6 pl-3 py-2 bg-stone-100 border-r border-stone-300 cursor-pointer focus:outline-none text-sm;
            }
          }

          @layer utilities {
            .no-drag {
              @apply pointer-events-none select-none;
              -webkit-user-drag: none;
            }
            .link-bounce {
              @apply transition-transform hover:-translate-y-0.5;
            }
          }

          /* Fade-in animation for sections and messages */
          @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in {
            animation: fadeInUp 0.35s ease-out both;
          }
          .animate-delay-1 { animation-delay: 0.08s; }
          .animate-delay-2 { animation-delay: 0.16s; }
          .animate-delay-3 { animation-delay: 0.24s; }

          /* Premium typing indicator for AI thinking */
          @keyframes typingPulse {
            0%, 60%, 100% { opacity: 0.25; transform: scale(0.85); }
            30% { opacity: 1; transform: scale(1); }
          }
          .typing-dot {
            animation: typingPulse 1.4s infinite ease-in-out;
          }
          .typing-dot:nth-child(2) { animation-delay: 0.2s; }
          .typing-dot:nth-child(3) { animation-delay: 0.4s; }

          /* Skeleton shimmer for loading states */
          @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
          }
          .skeleton {
            background: linear-gradient(90deg, #e7e5e4 25%, #d6d3d1 50%, #e7e5e4 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 0.375rem;
          }

          /* Custom scrollbar for chat area */
          .chat-scroll::-webkit-scrollbar { width: 5px; }
          .chat-scroll::-webkit-scrollbar-track { background: transparent; }
          .chat-scroll::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 3px; }
          .chat-scroll::-webkit-scrollbar-thumb:hover { background: #a8a29e; }

          /* Better focus styles — cyan ring */
          button:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible {
            outline: 2px solid #0891b2;
            outline-offset: 2px;
          }

          /* Interactive tree styles */
          .tree-toggle {
            transition: transform 0.15s;
            cursor: pointer;
            user-select: none;
            display: inline-block;
            width: 1rem;
            text-align: center;
            color: #78716c;
          }
          .tree-toggle.expanded {
            transform: rotate(90deg);
          }
          .tree-node-label {
            cursor: pointer;
          }
          .tree-node-label:hover {
            background-color: rgba(8, 145, 178, 0.08);
            border-radius: 0.25rem;
          }
          .tree-children {
            padding-left: 1.25rem;
          }
          .tree-children.collapsed {
            display: none;
          }

          /* Prism.js overrides to match shadcn theme */
          pre[class*="language-"] {
            background: transparent !important;
            margin: 0 !important;
            padding: 0 !important;
            font-size: 0.875rem !important;
          }
          code[class*="language-"] {
            font-size: 0.875rem !important;
            font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
          }

          /* Highlighted view file blocks */
          .highlighted-file-block {
            margin-bottom: 1rem;
          }
          .highlighted-file-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0.75rem;
            background: #1c1917;
            color: #fafaf9;
            font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, monospace;
            font-size: 0.8rem;
            border-radius: 0.5rem 0.5rem 0 0;
            border: 1px solid #1c1917;
          }
          .highlighted-file-body {
            padding: 0.75rem;
            background: #fafaf9;
            border: 1px solid #e7e5e4;
            border-top: none;
            border-radius: 0 0 0.5rem 0.5rem;
            overflow-x: auto;
          }
        </style>
    </head>
    <body class="bg-background min-h-screen flex flex-col font-sans text-foreground">
        {% include 'components/navbar.html' %}
        {# Main content wrapper #}
        <main class="flex-1 w-full">
            <div class="max-w-4xl mx-auto px-4 py-8">
                {% block content %}{% endblock %}
            </div>
        </main>
        {# Footer #}
        {% include 'components/footer.html' %}
        {# Scripts #}
        <script defer src="/static/js/main.js"></script>
        {# Prism.js syntax highlighting with autoloader for language grammars #}
        <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    </body>
</html>
