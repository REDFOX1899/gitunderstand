<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {# Search Engine Meta Tags #}
        <meta name="title"       content="GitUnderstand">
        <meta name="description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        <meta name="keywords"
              content="GitUnderstand, AI tools, LLM integration, Ingest, Digest, Context, Prompt, Git workflow, codebase extraction, Git repository, Git automation, Summarize, prompt-friendly">
        <meta name="robots"      content="index, follow">
        {# Open Graph Meta Tags #}
        <meta property="og:title"       content="GitUnderstand">
        <meta property="og:description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        <meta property="og:type"        content="website">
        <meta property="og:url"         content="{{ request.url }}">
        {# Web App Meta #}
        <meta name="apple-mobile-web-app-title"            content="GitUnderstand">
        <meta name="application-name"                      content="GitUnderstand">
        <meta name="theme-color"                           content="#FCA847">
        <meta name="mobile-web-app-capable"                content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        {# Twitter card #}
        <meta name="twitter:card"        content="summary_large_image">
        <meta name="twitter:title"       content="GitUnderstand">
        <meta name="twitter:description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        {# Favicon — inline SVG, no static file needed #}
        <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='18' fill='%23FCA847'/%3E%3Ctext y='.88em' x='50%25' text-anchor='middle' font-size='62' font-family='system-ui,sans-serif' font-weight='800' fill='%23111827'%3EG%3C/text%3E%3C/svg%3E">
        {# Title #}
        <title>
            {% block title %}
                {% if short_repo_url %}
                    GitUnderstand - {{ short_repo_url }}
                {% else %}
                    GitUnderstand
                {% endif %}
            {% endblock %}
        </title>
        {# Google Fonts — Inter (UI) + JetBrains Mono (code) #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                        mono: ['JetBrains Mono', 'ui-monospace', 'SFMono-Regular', 'monospace'],
                    }
                }
            }
        }
        </script>
        {# Prism.js for syntax highlighting #}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css">
        <style type="text/tailwindcss">
          :root {
            --color-bg: #FFFDF8;
            --color-surface: #fff4da;
            --color-surface-alt: #fafafa;
            --color-accent: #FCA847;
            --color-accent-hover: #ffb14d;
            --color-button: #ffc480;
            --color-pink: #FE4A60;
            --color-blue: #E8F0FE;
            --color-border: #1f2937;
            --color-text: #111827;
            --color-text-muted: #6b7280;
          }

          @layer components {
            .badge-new {
              @apply inline-block -rotate-6 -translate-y-1 mx-1 px-1 bg-[#FE4A60] border border-gray-900 text-white text-[10px] font-bold shadow-[2px_2px_0_0_rgba(0,0,0,1)];
            }
            .landing-page-title {
              @apply inline-block w-full relative text-center text-4xl sm:text-5xl md:text-6xl lg:text-7xl sm:pt-20 lg:pt-5 font-bold tracking-tighter;
            }
            .intro-text {
              @apply text-center text-gray-600 text-lg max-w-2xl mx-auto;
            }
            .pattern-select {
              @apply min-w-max appearance-none pr-6 pl-2 py-2 bg-[#e6e8eb] border-r-[3px] border-gray-900 cursor-pointer focus:outline-none;
            }
          }

          @layer utilities {
            .no-drag {
              @apply pointer-events-none select-none;
              -webkit-user-drag: none;
            }
            .link-bounce {
              @apply transition-transform hover:-translate-y-0.5;
            }
          }

          /* Fade-in animation for sections and messages */
          @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in {
            animation: fadeInUp 0.35s ease-out both;
          }
          .animate-delay-1 { animation-delay: 0.08s; }
          .animate-delay-2 { animation-delay: 0.16s; }
          .animate-delay-3 { animation-delay: 0.24s; }

          /* Premium typing indicator for AI thinking */
          @keyframes typingPulse {
            0%, 60%, 100% { opacity: 0.25; transform: scale(0.85); }
            30% { opacity: 1; transform: scale(1); }
          }
          .typing-dot {
            animation: typingPulse 1.4s infinite ease-in-out;
          }
          .typing-dot:nth-child(2) { animation-delay: 0.2s; }
          .typing-dot:nth-child(3) { animation-delay: 0.4s; }

          /* Skeleton shimmer for loading states */
          @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
          }
          .skeleton {
            background: linear-gradient(90deg, #fff4da 25%, #ffe8b5 50%, #fff4da 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 4px;
          }

          /* Custom scrollbar for chat area */
          .chat-scroll::-webkit-scrollbar { width: 5px; }
          .chat-scroll::-webkit-scrollbar-track { background: transparent; }
          .chat-scroll::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }
          .chat-scroll::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

          /* Better focus styles */
          button:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible {
            outline: 3px solid #FCA847;
            outline-offset: 2px;
          }

          /* Interactive tree styles */
          .tree-toggle {
            transition: transform 0.15s;
            cursor: pointer;
            user-select: none;
            display: inline-block;
            width: 1rem;
            text-align: center;
            color: #6b7280;
          }
          .tree-toggle.expanded {
            transform: rotate(90deg);
          }
          .tree-node-label {
            cursor: pointer;
          }
          .tree-node-label:hover {
            background-color: rgba(255, 196, 128, 0.3);
            border-radius: 0.25rem;
          }
          .tree-children {
            padding-left: 1.25rem;
          }
          .tree-children.collapsed {
            display: none;
          }

          /* Prism.js overrides to match neo-brutalist theme */
          pre[class*="language-"] {
            background: transparent !important;
            margin: 0 !important;
            padding: 0 !important;
            font-size: 0.875rem !important;
          }
          code[class*="language-"] {
            font-size: 0.875rem !important;
            font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
          }

          /* Highlighted view file blocks */
          .highlighted-file-block {
            margin-bottom: 1rem;
          }
          .highlighted-file-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0.75rem;
            background: #1f2937;
            color: #f9fafb;
            font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, monospace;
            font-size: 0.8rem;
            border-radius: 0.375rem 0.375rem 0 0;
            border: 3px solid #1f2937;
          }
          .highlighted-file-body {
            padding: 0.75rem;
            background: #fffdf8;
            border: 3px solid #1f2937;
            border-top: none;
            border-radius: 0 0 0.375rem 0.375rem;
            overflow-x: auto;
          }
        </style>
    </head>
    <body class="bg-[#FFFDF8] min-h-screen flex flex-col font-sans">
        {% include 'components/navbar.html' %}
        {# Main content wrapper #}
        <main class="flex-1 w-full">
            <div class="max-w-4xl mx-auto px-4 py-8">
                {% block content %}{% endblock %}
            </div>
        </main>
        {# Footer #}
        {% include 'components/footer.html' %}
        {# Scripts #}
        <script defer src="/static/js/main.js"></script>
        {# Prism.js syntax highlighting with autoloader for language grammars #}
        <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    </body>
</html>
