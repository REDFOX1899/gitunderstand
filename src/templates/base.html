<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {# Search Engine Meta Tags #}
        <meta name="title"       content="GitUnderstand">
        <meta name="description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        <meta name="keywords"
              content="GitUnderstand, AI tools, LLM integration, Ingest, Digest, Context, Prompt, Git workflow, codebase extraction, Git repository, Git automation, Summarize, prompt-friendly">
        <meta name="robots"      content="index, follow">
        {# Open Graph Meta Tags #}
        <meta property="og:title"       content="GitUnderstand">
        <meta property="og:description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        <meta property="og:type"        content="website">
        <meta property="og:url"         content="{{ request.url }}">
        {# Web App Meta #}
        <meta name="apple-mobile-web-app-title"            content="GitUnderstand">
        <meta name="application-name"                      content="GitUnderstand">
        <meta name="theme-color"                           content="#FCA847">
        <meta name="mobile-web-app-capable"                content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        {# Twitter card #}
        <meta name="twitter:card"        content="summary_large_image">
        <meta name="twitter:title"       content="GitUnderstand">
        <meta name="twitter:description"
              content="Turn any Git repository into a prompt-friendly text digest for LLMs.">
        {# Title #}
        <title>
            {% block title %}
                {% if short_repo_url %}
                    GitUnderstand - {{ short_repo_url }}
                {% else %}
                    GitUnderstand
                {% endif %}
            {% endblock %}
        </title>
        <script src="https://cdn.tailwindcss.com"></script>
        {# Prism.js for syntax highlighting #}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css">
        <style type="text/tailwindcss">
          @layer components {
            .badge-new {
              @apply inline-block -rotate-6 -translate-y-1 mx-1 px-1 bg-[#FE4A60] border border-gray-900 text-white text-[10px] font-bold shadow-[2px_2px_0_0_rgba(0,0,0,1)];
            }
            .landing-page-title {
              @apply inline-block w-full relative text-center text-4xl sm:text-5xl md:text-6xl lg:text-7xl sm:pt-20 lg:pt-5 font-bold tracking-tighter;
            }
            .intro-text {
              @apply text-center text-gray-600 text-lg max-w-2xl mx-auto;
            }
            .pattern-select {
              @apply min-w-max appearance-none pr-6 pl-2 py-2 bg-[#e6e8eb] border-r-[3px] border-gray-900 cursor-pointer focus:outline-none;
            }
          }

          @layer utilities {
            .no-drag {
              @apply pointer-events-none select-none;
              -webkit-user-drag: none;
            }
            .link-bounce {
              @apply transition-transform hover:-translate-y-0.5;
            }
          }

          /* Interactive tree styles */
          .tree-toggle {
            transition: transform 0.15s;
            cursor: pointer;
            user-select: none;
            display: inline-block;
            width: 1rem;
            text-align: center;
            color: #6b7280;
          }
          .tree-toggle.expanded {
            transform: rotate(90deg);
          }
          .tree-node-label {
            cursor: pointer;
          }
          .tree-node-label:hover {
            background-color: rgba(255, 196, 128, 0.3);
            border-radius: 0.25rem;
          }
          .tree-children {
            padding-left: 1.25rem;
          }
          .tree-children.collapsed {
            display: none;
          }

          /* Prism.js overrides to match neo-brutalist theme */
          pre[class*="language-"] {
            background: transparent !important;
            margin: 0 !important;
            padding: 0 !important;
            font-size: 0.875rem !important;
          }
          code[class*="language-"] {
            font-size: 0.875rem !important;
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
          }

          /* Highlighted view file blocks */
          .highlighted-file-block {
            margin-bottom: 1rem;
          }
          .highlighted-file-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0.75rem;
            background: #1f2937;
            color: #f9fafb;
            font-family: ui-monospace, SFMono-Regular, monospace;
            font-size: 0.8rem;
            border-radius: 0.375rem 0.375rem 0 0;
            border: 3px solid #1f2937;
          }
          .highlighted-file-body {
            padding: 0.75rem;
            background: #fffdf8;
            border: 3px solid #1f2937;
            border-top: none;
            border-radius: 0 0 0.375rem 0.375rem;
            overflow-x: auto;
          }
        </style>
    </head>
    <body class="bg-[#FFFDF8] min-h-screen flex flex-col">
        {% include 'components/navbar.html' %}
        {# Main content wrapper #}
        <main class="flex-1 w-full">
            <div class="max-w-4xl mx-auto px-4 py-8">
                {% block content %}{% endblock %}
            </div>
        </main>
        {# Footer #}
        {% include 'components/footer.html' %}
        {# Scripts #}
        <script defer src="/static/js/main.js"></script>
        {# Prism.js syntax highlighting with autoloader for language grammars #}
        <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    </body>
</html>
